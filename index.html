<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calcolatore Ordini Bistrot</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 0; padding: 20px; background-color: #f4f7fa; color: #333; transition: background-color 0.3s, color 0.3s; padding-bottom: 80px; }
        body.dark { background-color: #1e1e1e; color: #ddd; }
        h1 { color: #2c3e50; text-align: center; margin-bottom: 30px; font-size: 2em; }
        body.dark h1 { color: #ecf0f1; }
        h2 { color: #3498db; border-bottom: 2px solid #ecf0f1; padding-bottom: 10px; font-size: 1.5em; }
        body.dark h2 { color: #5dade2; border-bottom-color: #34495e; }
        h3 { color: #2980b9; font-size: 1.2em; }
        body.dark h3 { color: #81d4fa; }
        .section { margin-bottom: 40px; padding: 20px; background: #fff; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); transition: background 0.3s; }
        body.dark .section { background: #2c3e50; }
        .item { display: flex; align-items: center; margin-bottom: 15px; padding: 10px; border-radius: 8px; transition: background 0.3s, transform 0.2s; }
        body.dark .item:hover { background: #34495e; }
        .item:hover { background: #f9f9f9; transform: translateY(-2px); }
        label { flex: 1; font-size: 1.1em; display: flex; align-items: center; cursor: pointer; }
        input[type="number"] { width: 70px; padding: 8px; border: 1px solid #bdc3c7; border-radius: 6px; text-align: center; transition: border-color 0.3s; background: #fff; color: #333; }
        body.dark input[type="number"] { background: #34495e; color: #ddd; border-color: #7f8c8d; }
        input[type="number"]:focus { border-color: #3498db; outline: none; }
        select { padding: 8px; border: 1px solid #bdc3c7; border-radius: 6px; background: #fff; cursor: pointer; color: #333; }
        body.dark select { background: #34495e; color: #ddd; border-color: #7f8c8d; }
        #total-bar { position: fixed; bottom: 0; left: 0; width: 100%; background: linear-gradient(to right, #27ae60, #2ecc71); color: #fff; padding: 15px; font-size: 1.4em; box-shadow: 0 -2px 10px rgba(0,0,0,0.2); z-index: 1000; display: flex; align-items: center; justify-content: center; transition: opacity 0.3s; gap: 20px; }
        #total { font-weight: bold; white-space: nowrap; order: 2; }
        #order-summary { font-size: 0.8em; opacity: 0.9; overflow-x: auto; white-space: nowrap; flex-grow: 1; margin: 0 10px; order: 3; }
        #copy-button { padding: 8px 16px; background: #fff; color: #27ae60; border: none; border-radius: 6px; cursor: pointer; transition: background 0.3s; white-space: nowrap; font-weight: bold; order: 1; }
        #copy-button:hover { background: #e9ecef; }
        #popup { position: fixed; bottom: 60px; left: 50%; transform: translateX(-50%); background: #2ecc71; color: #fff; padding: 12px 20px; border-radius: 8px; display: none; box-shadow: 0 2px 10px rgba(0,0,0,0.2); z-index: 1001; }
        button.reset { padding: 10px 20px; background: #e74c3c; color: #fff; border: none; border-radius: 6px; cursor: pointer; transition: background 0.3s; margin: 20px auto; display: block; }
        button.reset:hover { background: #c0392b; }
        #theme-toggle { padding: 10px 20px; background: #3498db; color: #fff; border: none; border-radius: 6px; cursor: pointer; transition: background 0.3s; margin: 20px auto; display: block; }
        #theme-toggle:hover { background: #2980b9; }
        @media (min-width: 601px) {
            #total-bar { justify-content: center; padding-right: 0; gap: 10px; }
            #order-summary { display: none; }
            #total { order: 2; }
            #copy-button { order: 1; }
        }
        @media (max-width: 600px) {
            .item { flex-direction: column; align-items: flex-start; }
            input[type="number"] { margin-left: 0; margin-top: 10px; width: 100%; }
            #total-bar { flex-direction: column; align-items: center; gap: 10px; padding: 10px; }
            #total { font-size: 1.2em; order: 1; }
            #order-summary { font-size: 0.7em; text-align: center; order: 3; }
            #copy-button { order: 2; }
        }
    </style>
</head>
<body>
    <button id="theme-toggle" onclick="toggleTheme()">Passa a Dark Mode</button>
    <h1>Gestione Ordini</h1>
    <div class="section">
    <h2>Articoli Singoli</h2>
    <p>Seleziona la quantitÃ  per ciascun articolo per calcolare il totale.</p>
    <div class="item"><label>ğŸŸ Patatine Fritte â€” 5â‚¬</label><input type="number" min="0" value="0" data-price="5" data-name="Patatine Fritte" oninput="calcTotal()" onfocus="this.select()"></div>
    <div class="item"><label>ğŸŒ­ Hot Dog â€” 5â‚¬</label><input type="number" min="0" value="0" data-price="5" data-name="Hot Dog" oninput="calcTotal()" onfocus="this.select()"></div>
    <div class="item"><label>ğŸ” Kebab di Pollo â€” 12â‚¬</label><input type="number" min="0" value="0" data-price="12" data-name="Kebab di Pollo" oninput="calcTotal()" onfocus="this.select()"></div>
    <div class="item"><label>ğŸ‘ Kebab di Agnello â€” 12â‚¬</label><input type="number" min="0" value="0" data-price="12" data-name="Kebab di Agnello" oninput="calcTotal()" onfocus="this.select()"></div>
    <div class="item"><label>ğŸ– Kebab Misto â€” 15â‚¬</label><input type="number" min="0" value="0" data-price="15" data-name="Kebab Misto" oninput="calcTotal()" onfocus="this.select()"></div>
    <div class="item"><label>ğŸ— Pollo Cotto â€” 12â‚¬</label><input type="number" min="0" value="0" data-price="12" data-name="Pollo Cotto" oninput="calcTotal()" onfocus="this.select()"></div>
    <div class="item"><label>ğŸ—ğŸ”¥ Pollo Fritto â€” 5â‚¬</label><input type="number" min="0" value="0" data-price="5" data-name="Pollo Fritto" oninput="calcTotal()" onfocus="this.select()"></div>
    <div class="item"><label>ğŸŒ® Tacos â€” 10â‚¬</label><input type="number" min="0" value="0" data-price="10" data-name="Tacos" oninput="calcTotal()" onfocus="this.select()"></div>
    <div class="item"><label>ğŸ”ğŸ” Hamburger Doppio â€” 7â‚¬</label><input type="number" min="0" value="0" data-price="7" data-name="Hamburger Doppio" oninput="calcTotal()" onfocus="this.select()"></div>
    <div class="item"><label>ğŸ” Hamburger Piccolo â€” 5â‚¬</label><input type="number" min="0" value="0" data-price="5" data-name="Hamburger Piccolo" oninput="calcTotal()" onfocus="this.select()"></div>
    <div class="item"><label>ğŸ¥– Baguette â€” 3â‚¬</label><input type="number" min="0" value="0" data-price="3" data-name="Baguette" oninput="calcTotal()" onfocus="this.select()"></div>
    <div class="item"><label>ğŸ© Churros â€” 5â‚¬</label><input type="number" min="0" value="0" data-price="5" data-name="Churros" oninput="calcTotal()" onfocus="this.select()"></div>
    <div class="item"><label>ğŸ• Pizza Margherita â€” 8â‚¬</label><input type="number" min="0" value="0" data-price="8" data-name="Pizza Margherita" oninput="calcTotal()" onfocus="this.select()"></div>
    <div class="item"><label>ğŸ•ğŸŸ Pizza con Patatine â€” 10â‚¬</label><input type="number" min="0" value="0" data-price="10" data-name="Pizza con Patatine" oninput="calcTotal()" onfocus="this.select()"></div>
    <div class="item"><label>ğŸ•ğŸ§€ Pizza ai Quattro Formaggi â€” 10â‚¬</label><input type="number" min="0" value="0" data-price="10" data-name="Pizza ai Quattro Formaggi" oninput="calcTotal()" onfocus="this.select()"></div>
    <div class="item"><label>ğŸ•ğŸŒ­ Pizza Viennese â€” 10â‚¬</label><input type="number" min="0" value="0" data-price="10" data-name="Pizza Viennese" oninput="calcTotal()" onfocus="this.select()"></div>
    <div class="item"><label>ğŸ’§ Acqua â€” 0,50â‚¬</label><input type="number" min="0" value="0" data-price="0.5" data-name="Acqua" oninput="calcTotal()" onfocus="this.select()"></div>
    <div class="item"><label>ğŸ¥¤ Coca Cola â€” 4â‚¬</label><input type="number" min="0" value="0" data-price="4" data-name="Coca Cola" oninput="calcTotal()" onfocus="this.select()"></div>
    <div class="item"><label>ğŸŠğŸ¥¤ Fanta â€” 4â‚¬</label><input type="number" min="0" value="0" data-price="4" data-name="Fanta" oninput="calcTotal()" onfocus="this.select()"></div>
    <div class="item"><label>ğŸ§ƒ Succo â€” 4â‚¬</label><input type="number" min="0" value="0" data-price="4" data-name="Succo" oninput="calcTotal()" onfocus="this.select()"></div>
    <div class="item"><label>ğŸº Birra â€” 3â‚¬</label><input type="number" min="0" value="0" data-price="3" data-name="Birra" oninput="calcTotal()" onfocus="this.select()"></div>
    <div class="item"><label>ğŸ· Vino â€” 3â‚¬</label><input type="number" min="0" value="0" data-price="3" data-name="Vino" oninput="calcTotal()" onfocus="this.select()"></div>
    <div class="item"><label>â˜•ï¸ Tazza di caffÃ¨ â€” 1â‚¬</label><input type="number" min="0" value="0" data-price="1" data-name="Tazza di caffÃ¨" oninput="calcTotal()" onfocus="this.select()"></div>
</div>

<div class="section">
    <h2>MenÃ¹ Predefiniti e Stagionali</h2>
    <p>Seleziona la quantitÃ  per ciascun menÃ¹.</p>
    <div class="item"><label>ğŸ’§ MenÃ¹ Acqua ğŸ’§ (64 Acqua) â€” 30â‚¬</label><input type="number" min="0" value="0" data-price="30" data-name="MenÃ¹ Acqua" oninput="calcTotal()" onfocus="this.select()"></div>
    <div class="item"><label>ğŸ‡«ğŸ‡· MenÃ¹ Francia ğŸ‡«ğŸ‡· (32 Baguette + 32 Vino) â€” 180â‚¬</label><input type="number" min="0" value="0" data-price="180" data-name="MenÃ¹ Francia" oninput="calcTotal()" onfocus="this.select()"></div>
    <div class="item"><label>ğŸŠ MenÃ¹ Party ğŸŠ (32 Patatine + 32 Fanta) â€” 270â‚¬</label><input type="number" min="0" value="0" data-price="270" data-name="MenÃ¹ Party" oninput="calcTotal()" onfocus="this.select()"></div>
    <div class="item"><label>ğŸ•Œ MenÃ¹ Habibi ğŸ•Œ (16 Kebab + 16 Birre) â€” 230â‚¬</label><input type="number" min="0" value="0" data-price="230" data-name="MenÃ¹ Habibi" oninput="calcTotal()" onfocus="this.select()"></div>
    <div class="item"><label>ğŸ§ƒ MenÃ¹ Merenda ğŸ§ƒ (16 Hamburger Piccoli + 32 Succhi) â€” 200â‚¬</label><input type="number" min="0" value="0" data-price="200" data-name="MenÃ¹ Merenda" oninput="calcTotal()" onfocus="this.select()"></div>
    <div class="item"><label>ğŸ¥“ MenÃ¹ Fritto ğŸ¥“ (16 Pollo Fritto + 32 Fanta) â€” 200â‚¬</label><input type="number" min="0" value="0" data-price="200" data-name="MenÃ¹ Fritto" oninput="calcTotal()" onfocus="this.select()"></div>
    <div class="item"><label>ğŸ‡ºğŸ‡¸ MenÃ¹ USA ğŸ‡ºğŸ‡¸ (32 Hot Dog + 32 Coca Cola) â€” 275â‚¬</label><input type="number" min="0" value="0" data-price="275" data-name="MenÃ¹ USA" oninput="calcTotal()" onfocus="this.select()"></div>
    <div class="item"><label>ğŸ‘‘ MenÃ¹ Deluxe ğŸ‘‘ (16 Pollo Cotto + 16 Vino) â€” 230â‚¬</label><input type="number" min="0" value="0" data-price="230" data-name="MenÃ¹ Deluxe" oninput="calcTotal()" onfocus="this.select()"></div>
    <div class="item"><label>ğŸ’ªğŸ” MenÃ¹ Boss ğŸ’ªğŸ” (16 Hamburger Doppio + 16 Fanta) â€” 165â‚¬</label><input type="number" min="0" value="0" data-price="165" data-name="MenÃ¹ Boss" oninput="calcTotal()" onfocus="this.select()"></div>
    <div class="item"><label>ğŸš¦ğŸ‘‘ MenÃ¹ StreetKing ğŸš¦ğŸ‘‘ (16 Tacos + 16 Coca Cola) â€” 210â‚¬</label><input type="number" min="0" value="0" data-price="210" data-name="MenÃ¹ StreetKing" oninput="calcTotal()" onfocus="this.select()"></div>
    <div class="item"><label>ğŸŒ™ MenÃ¹ Orientale ğŸŒ™ (16 Kebab Misto + 16 Vino) â€” 240â‚¬</label><input type="number" min="0" value="0" data-price="240" data-name="MenÃ¹ Orientale" oninput="calcTotal()" onfocus="this.select()"></div>
</div>

<div class="section">
    <h2>Fidelity Card</h2>
    <p>Seleziona la quantitÃ  per le carte iniziali.</p>
    <div class="item"><label>ğŸª™ 2.5% Iniziale â€” 500â‚¬</label><input type="number" min="0" value="0" data-price="500" data-type="fidelity" data-name="2.5% Iniziale" oninput="calcTotal()" onfocus="this.select()"></div>
    <div class="item"><label>ğŸª™ 5% Iniziale â€” 1000â‚¬</label><input type="number" min="0" value="0" data-price="1000" data-type="fidelity" data-name="5% Iniziale" oninput="calcTotal()" onfocus="this.select()"></div>
    <div class="item"><label>ğŸª™ 10% Iniziale â€” 1500â‚¬</label><input type="number" min="0" value="0" data-price="1500" data-type="fidelity" data-name="10% Iniziale" oninput="calcTotal()" onfocus="this.select()"></div>
</div>

<div class="section">
    <h2>Opzioni</h2>
    <p>Scegli il livello di sconto se applicabile.</p>
    <div class="item">
        <label>Livello Sconto Fidelity:</label>
        <select id="discount" oninput="calcTotal()">
            <option value="0">Nessuno</option>
            <option value="2.5">2.5%</option>
            <option value="5">5%</option>
            <option value="10">10%</option>
        </select>
    </div>
</div>

<button class="reset" onclick="resetAll()">Reset Ordine</button>

<div id="total-bar">
    <button id="copy-button" onclick="copySummary()">Copia Riassunto</button>
    <div id="total">Totale: 0â‚¬</div>
    <div id="order-summary"></div>
</div>
<div id="popup">Riassunto copiato!</div>

<script>
    let summaryText = '';
    function calcTotal() {
        let foodTotal = 0;
        let fidelityTotal = 0;
        let summaryItems = [];
        document.querySelectorAll('input[type="number"]').forEach(input => {
            const qty = parseFloat(input.value) || 0;
            const price = parseFloat(input.dataset.price) || 0;
            if (qty > 0) {
                summaryItems.push(`${qty}x ${input.dataset.name}`);
            }
            if (input.dataset.type === 'fidelity') {
                fidelityTotal += qty * price;
            } else {
                foodTotal += qty * price;
            }
        });
        const discount = parseFloat(document.getElementById('discount').value) / 100;
        let finalTotal = Math.round(foodTotal * (1 - discount) + fidelityTotal);
        summaryText = summaryItems.join(' ');
        if (discount > 0) {
            summaryText = 'F.C. ' + summaryText;
        }
        document.getElementById('total').textContent = `Totale: ${finalTotal}â‚¬`;
        document.getElementById('order-summary').textContent = summaryText ? `(Riassunto: ${summaryText})` : '';
        document.getElementById('total-bar').style.display = 'flex';
    }
      
    function copySummary() {
        navigator.clipboard.writeText(summaryText);
        const popup = document.getElementById('popup');
        popup.style.display = 'block';
        setTimeout(() => { popup.style.display = 'none'; }, 1000);
    }
      
    function resetAll() {
        if (confirm('Sei sicuro di voler resettare l\'ordine? Tutte le selezioni saranno azzerate.')) {
            document.querySelectorAll('input[type="number"]').forEach(input => input.value = 0);
            document.getElementById('discount').value = 0;
            calcTotal();
        }
    }
      
    function toggleTheme() {
        document.body.classList.toggle('dark');
        const isDark = document.body.classList.contains('dark');
        localStorage.setItem('theme', isDark ? 'dark' : 'light');
        document.getElementById('theme-toggle').textContent = isDark ? 'Passa a Light Mode' : 'Passa a Dark Mode';
    }
      
    window.onload = function() {
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'dark') {
            document.body.classList.add('dark');
            document.getElementById('theme-toggle').textContent = 'Passa a Light Mode';
        }
        calcTotal();
    };
</script>

</body>
</html>